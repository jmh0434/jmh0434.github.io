---
layout: single
title: "블록체인, 암호화폐, NFT 간단 정리"
categories: it
tags: [Blockchain, NFT, Bitcoin, Etherium]
toc: true
toc_sticky: true
author_profile: true
---

# **블록체인 = 추가만 가능한 데이터베이스들의 연결**

- 소규모 데이터들이 체인 형태로 무수히 연결되어 형성된 ‘블록’이라는 분산 데이터 저장 환경에 따라 대상 데이터를 저장함으로써 <span style = "color:powderblue">누구도 임의로 수정할 수 없고 누구나 변경의 결과를 열람할 수 있게 만듦
- 블록은 발견된 날짜와 이전 블록에 대한 연결고리를 해쉬를 통해 가지고 있음
- 블록을 대표하는 해시를 만드려면 블록 난이도에 따라 자동으로 설정된 목표값보다 더 작은 블록해시값을 찾아야 한다.
- 기존의 전자화폐 거래는 중앙 서버에 거래 기록을 보관하지만 블록체인은 모든 사용자에게 거래 기록을 보여주며 위조를 막음
- <span style = "color:powderblue">비트코인이 블록체인이라는 개념을 처음 실증
---
## **해쉬 : 한 개의 입력을 받으면 한 개의 출력을 해줌**

인풋을 가지고 아웃풋을 얻을 수 있지만

아웃풋 내용을 가지고 인풋을 얻을 수 없음 (일방향 함수)

ex) 망고쥬스 만들기 (망고로 망고쥬스 만들 수 있지만 망고쥬스로 망고 만들 수 없음)

---
## **탈중앙화 : 특정 개인이 DB를 관리할 수 없음**

- 모두가 DB의 복제본을 가지고 있기 때문에 위조가 불가능함
- 어떠한 주체가 감시나 통제할 수 없음
- 탈중앙화가 항상 좋은 것만은 아님 개인의 실수나 해킹으로 인한 피해를 입어도 보상받을 방법 X
---
## **지갑** : **암호화폐를 보관할 수 있는 계정**

- 지갑 주소와 암호로 구성되어 있음
- 비대칭적 암호화 방식 사용 (공개키와 비공개키)
- 공개키는 주소(계좌번호) 비공개키는 계좌 비밀번호 개념
- 핫 월렛 : 인터넷 주소가 네트워크에 연결 되어 실시간으로 온라인을 통해 거래를 주고받을 수 있다. 하지만 그만큼 해킹 위험이 높음
- 콜드 월렛 : 인터넷이 차단된 하드웨어 장치에 암호화폐를 보관하고 개인키를 오프라인에서 처리해서 거래를 함. 안전하긴 하지만 실시간 거래는 불가능
- <span style = "color:powderblue">개인이 주로 암호화폐를 거래할 때는 거래소를 통해서 하는데 거래소들은 거래소 지갑을 만들고 이를 환전해서 개인에게 준 다음 수수료 차익을 얻음
---
# **비트코인**

- 1세대 암호화폐
- 블록체인 개념을 탄생시켜 [비잔틴 장군의 문제](https://namu.wiki/w/비잔티움%20장군%20문제) 등 해결
- 처음부터 화폐를 대체하기 위해 만들어졌기 때문에 보안적인 측면에서 상당한 안정성을 자랑하지만 그 이외의 기능은 사실상 없으며 규모가 커지자 거래속도가 매우 느려져 실물 거래 수단으로 메리트가 떨어짐
- 향후 100년간 발행될 화폐량이 미리 정해져 있고, 2100만 개까지만 발행 된다

## **작업 증명**

- 각 블록에 포함된 거래 내역이 악의적인 공격자에 의해 변조되지 않았는지를 검증하기 위함
- 채굴이라는 방식을 통해 거래내역을 검증하고 모든 거래내역 정보가 담긴 블록을 체인에 연결
- 다른 노드들에 의해 채굴자의 무결성이 증명이 되면 비트코인이 발행되며 채굴자에게 보상이 됨
- <span style = "color:powderblue">즉 비트코인은 원래부터 생성되어 있는 것이 아니라 블록을 체인에 올릴 때마다 새롭게 생성되는 것
- 4년마다 반감기가 와서 생산량이 반으로 줄어듦
- 해시 함수가 계산하기는 쉽지만 역을 구하는 것은 어렵다는 것에 착안하여 모든 참여자가 해시 함수를 계산해서 가장 먼저 계산한 사람이 새 화폐를 받아가게 하는 것
- 작업 증명은 결국 컴퓨터가 하는 것이기 때문에 많은 전기와 에너지가 사용되며 이미 심각한 사회 문제로 화두에 오름 (중국 석탄발전소 스톱 사건, 그래픽카드 대란 등)
- **51% 공격**
    - 작업증명의 원리는 네트워크의 다른 컴퓨터와 경쟁해서 이기면 블록체인에 추가하는 것이다.
    - 만약 최고의 컴퓨터를 사서 모두 경쟁에서 이겨 가짜 블록을 올리고 과반인 51% 이상을 네트워크에서 장악하면 공격 성공?
    - 비트코인 네트워크의 노드 수는 70,000대 이상이다. 즉 7만 대 이상의 컴퓨터와 경쟁을 해야하며 51% 이상을 장악하기 위해서는 전체 [해쉬레이트](http://wiki.hash.kr/index.php/해시레이트)의 51% 이상의 컴퓨팅 파워가 필요하다. 즉 거의 불가능함 (현존 최강 채굴기를 90만대 이상 구매해야 함 이는 거의 4조원에 맞먹고 거기에 유지하기 위한 전기세에 기타 유지비까지 생각해야함)
    - 비트코인이나 이더리움은 체급이 크기 때문에 이것이 시도되기 어려우나 체급이 작은 작업 증명 방식의 암호화폐는 51% 공격에 취약점이 있음
---
## **채굴**

- <span style = "color:powderblue">작업 증명을 통해 보상으로 암호화폐를 획득하는 행위
- 블록해시에 대한 조건을 만족하기 위해서는 수없이 많은 연산을 반복해서 미리 정해진 목표값 이하의 해시값이 나오도록 해야함
- 이 때 랜덤한 해시값을 생성할 수 있도록 매번 임시값을 사용해야 하는데 그 임시값이 바로 논스이다.
- 이 논스 값을 수없이 바꿔가면서 하나씩 대입하다가 새로 생성된 해시값이 일정한 목표값보다 더 작을 경우에 새로운 블록이 성공적으로 생성된다.
- 비트코인 네트워크에서는 발행량을 조절하기 위해서 해시값을 찾는 난이도를 조정하는데 난이도가 높을수록 논스 값을 더 많이 대입해야 함
- 그렇기 때문에 연산 능력이 좋은 그래픽카드를 이용한 채굴기를 사용하면 채굴에 유리하기 때문에 그래픽카드 대란이 일어나게 되었고 24시간 가동시켜야 하기 때문에 전력 낭비를 초래함
---
# **이더리움**

- 2세대 암호화폐
- [C++](http://wiki.hash.kr/index.php/C%2B%2B)과 [고](http://wiki.hash.kr/index.php/%EA%B3%A0)(Go) 언어로 개발
- 비트코인의 블록체인 기술을 따왔지만 ‘스마트 컨트랙' 기술을 통해 암호화폐 기능 이외에 다양한 기술 접목 가능
- 이더리움도 현재는 작업 증명 방식을 사용중이나 지분 증명 방식으로 전환중
---
## **스마트 컨트랙(Smart Contract)**

- 블록체인에 코드를 올리는 것
- 블록체인의 데이터는 네트워크와 연결된 모든 노드들에 의해 공유, 검증, 실행되지만 수정할 수는 없다는 점을 이용
- 블록체인 네트워크를 하나의 방대한 백엔드로 삼는 것
- 비트코인은 이전의 기록들만 담지만 이더리움에서는 앞으로의 작업에 대해서도 세팅이 가능해서 인간이 맺을 수 있는 모든 종류의 계약을 네트워크 내에서 할 수 있음
- 프로그램은 ‘Solidity’ 언어로 작성되어야 하며 자바와 유사하게 바이트코드로 컴파일되고 컴파일된 바이트코드는 블록에 포함되어, 이더리움 가상머신(EVM)에 의해 실행된다.
- 하지만 이것이 이더리움 네트워크 내에서 이뤄져야 하므로 네트워크에 부하가 많이 생기며 이더리움의 거래수수료가 비싼 원인이 됨
- solidity 언어는 신생 언어라서 우려되는 점이 있음
---
### NFT

- Non Fungible Token (대체 불가한  토큰)
- 스마트 컨트랙의 일종
- 그림·영상 등의 디지털 파일이나 자산에 복제 및 위조가 불가능한 암호를 증명서로 붙임으로써 그 고유한 원본성 및 소유권을 나타내는 용도로 사용
- 인터넷에서 재산권 개념을 명확히 할 수 있음(복사는 할 수 있지만 원본이 증명된다면 복사본을 구분할 수 있으므로)
- 검증 기관 없이 진품이라는 것을 모든 사람들에게 검증, 공유할 수 있다
---
### De-Fi

- Decentralized Finance (탈중앙화된 금융)
- 스마트 컨트랙을 통해 이뤄지는 금융 서비스
- Stable Coin
    - 현금 또는 다른 암호화폐와 1:1로 연결되어 있는 암호화폐
    - 거래소가 보증함으로써 유지
    - 시세 변동이 적고 안정적임
    - 이를 이용하여 쉽고 빠르게 은행 없이 P2P로 예금, 대출이 가능하다 ([AAVE](http://wiki.hash.kr/index.php/에이브))
- DEX(Decentralized EXchanges) (탈중앙화된 거래소)
    - 빗썸, 업비트 같은 거래소는 중앙화된 거래소이기 때문에 의존성이 높으며 수수료를 떼어 감
    - 탈중앙화된 거래소에서는 ‘유동성 풀'을 이용해 중앙화된 거래소 없이 100% 코드로 환전이 진행됨 (약간 토렌트와 유사한 방식)
    - ex) 1000 달러 중 500달러를 USDT 스테이블 코인에, 500달러를 이더리움에 투자했다면 이를 USDT - ETH 유동성 풀에 넣음 → 이 유동성 풀은 두 화폐 토큰을 환전시켜주는 스마트 컨트랙임 → 누군가가 환전하고자 할 때 내 유동성 풀을 통해 환전 → 나는 거기서 발생한 수수료를 취득
    
---
# 지분 증명 방식 (Skating)

- 작업 증명 방식과는 다르게 많은 지분을 네트워크 내에서 홀드하고 있는 사람에게 보상을 줌
- 더 오래, 더 많이 가지고 있는 사람에게 우선순위
- 작업 증명 방식에 비해 전기, 에너지 사용량이 현격하게 적음
- 지분 증명 방식을 도입한 암호화폐를 **3세대 암호화폐**라고 함
- 이더리움도 현재 작업 증명 방식에서 지분 증명 방식으로 전환하는 프로젝트 진행중
- 암호화폐를 해킹해서 현금화하기 위해서는 이전의 블록의 내용은 변경할 수가 없기 때문에 위조된 블록을 새로 만들어서 현금화해야한다. 지분 증명 방식에서는 51% 공격을 시도하고자 하더라도 그 지분을 차지하는 만큼의 코인을 버려야하고 다른 노드들에 의해 적발 시 그 지분은 동결된 채로 퇴출된다.
- 단점으로는 결국 부자가 더 부자가 되는 것이고 먼저 참여할수록 보상이 크기 때문에 확장성이 낮다는 것이다. (개인적으로 이 점에서는 실물 경제의 배당을 많이 주는 주식과 비슷하다고 생각)
- 단점을 상쇄할 방법으로 위임하는 방법도 있음 코인을 누군가에게 위임하여 그가 많은 지분을 차지하여 보상을 얻으면 그 수익을 투자자들에게 분배하는 방식 (펀드와 비슷)

